@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.play.views.html.helpers
@import uk.gov.hmrc.offpayroll.models._
@import uk.gov.hmrc.offpayroll.models.Element

@(f:Form[_], element:Element, guidance: Html)(implicit request: Request[_], messages: Messages, lang : Lang)
@import uk.gov.hmrc.offpayroll.controllers.routes
@uk.gov.hmrc.offpayroll.views.html.main_template(
    title = Messages(element.questionTag),
    bodyClasses = None,
    virtualPage = Some(element.questionTag)
    ) {

    <div class="form-group">
        <a href="@routes.InterviewController.back()" class="link-back">@Messages("back.capitalised")</a>
    </div>


    @helpers.form(routes.InterviewController.processElement(element.clusterParent.clusterID, element.order), 'class -> "jsForm", 'noValidate -> "noValidate") {

        <div class="form-group @if(f.errors.headOption.isDefined) {
            error
        }">
            <fieldset>
                <legend class="h1-heading" role="heading" aria-level="1" >
                    <span class="pre-heading">@Messages("sectionHeader." + element.clusterParent.name)</span>
                    <h1 id="question">@Messages(element.questionTag)</h1>
                </legend>

                @guidance

                @if(f.errors.headOption.isDefined) {
                    <span class="error-notification">@Messages(f.errors.head.message)</span>
                }

                @uk.gov.hmrc.offpayroll.views.html.interview.element(element)
            </fieldset>
        </div>
        <button>@Messages("global.button.continue")</button>

    }

}
