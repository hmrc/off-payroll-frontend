@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.offpayroll.util.ResultPageHelper
@(cluster: String, resultPageHelper: ResultPageHelper, messages: Messages, renderShowHideToggle: Boolean)

<h2>@messages(cluster+"Cluster"+".title")</h2>
@if(!cluster.equals("setup")){
    <p>@messages(cluster+"Cluster"+".summary")</p>

}
@if(renderShowHideToggle){
    <details>
        <summary role="button">
            <span class="summary">@messages("result.viewMyAnswers")</span>
        </summary>
        <panel>
            <ul class="section">
            @for((key, value) <- resultPageHelper.getQuestionsAndAnswersForCluster(cluster)) {
                <li class="divider--bottom" style="padding-bottom: 0.7pc;"><h3>@messages(key)</h3>
                    <div>@resultPageHelper.fragments.get(key)</div>
                    @for(child <- value) {
                        <div id="answer.@key" class="panel-indent">@messages(child)</div>
                    }
                </li>
            }
            </ul>
        </panel>
    </details>
}else{
    <ul class="section">
    @for((key, value) <- resultPageHelper.getQuestionsAndAnswersForCluster(cluster)) {
        <li class="divider--bottom"><h3>@messages(key)</h3>
            <div>@resultPageHelper.fragments.get(key)</div>
            @for(child <- value) {
                <div id="answer.@key" class="panel-indent">@messages(child)</div>
            }
        </li>
    }
    </ul>
}